<ion-menu [content]="content" >
  <!--<ion-header>
    <ion-toolbar>
      <ion-title>Menu</ion-title>
    </ion-toolbar>
  </ion-header>-->

  <ion-content>
    <div *ngIf='tokens' class="menu-header">
          <div *ngIf="userInfo.avatar" style="width: 80px;height: 80px;border-radius: 50%;overflow: hidden;"><img src="{{userInfo.avatar}}" width="100%" height="100%"/></div>
          <div *ngIf="(!userInfo.avatar)&&(userInfo.gender===2)" style="width: 80px;height: 80px;border-radius: 50%;overflow: hidden;"><img src="assets/img/female.png" width="100%" height="100%"/></div>
          <div *ngIf="(!userInfo.avatar)&&(userInfo.gender===1)" style="width: 80px;height: 80px;border-radius: 50%;overflow: hidden;"><img src="assets/img/male.png" width="100%" height="100%"/></div>
          <div *ngIf="(!userInfo.avatar)&&(userInfo.gender===3)" style="width: 80px;height: 80px;border-radius: 50%;overflow: hidden;"><img src="assets/img/sprite/gender_unknown.jpg" width="100%" height="100%"/></div>
          <h4>{{userInfo.name}}<span>({{userInfo.role.role}})</span></h4>
          <p>工号 {{userInfo.username}}</p>
    </div>
    <div *ngIf='!tokens' class="menu-header">
         <div style="width: 80px;height: 80px;border-radius: 50%;overflow: hidden;"><img src="assets/img/icon/_0005_head.png" width="100%" height="100%"/></div>
    </div>
    <ion-list class="menu-list" inset no-lines>
      <button menuClose ion-item (click)="goTo(home)" detail-none="">
        <i><img src="assets/img/icon/_0000_home.png" width="25"/></i>
        <span>回到主页</span>
      </button>
      <button menuClose ion-item detail-none="">
        <i><img src="assets/img/icon/_0010_change_role.png" width="25" style="margin-top: 6px;"/></i>
        <span>切换角色</span>
      </button>
      <button menuClose ion-item (click)="goTo(contact)" detail-none="">
        <i><img src="assets/img/icon/_0002_contacts.png" width="25"/></i>
        <span>通 讯 录</span>
      </button>
      <button *ngIf='tokens' menuClose ion-item (click)="pushTo(changepw)" detail-none="">
        <i><img src="assets/img/icon/_0001_password.png" width="25"/></i>
        <span>修改密码</span>
      </button>
      <button menuClose ion-item (click)="pushTo(about)" detail-none="">
        <i><img src="assets/img/icon/_0003_about.png" width="25"/></i>
        <span>关于壁虎</span>
      </button>
      <button *ngIf='tokens' menuClose ion-item (click)="logout()" detail-none="">
        <i><img src="assets/img/icon/_0004_exit.png" width="25"/></i>
        <span>退出</span>
      </button>
    </ion-list>
  </ion-content>
</ion-menu>

<!-- Disable swipe-to-go-back because it's poor UX to combine STGB with side menus -->
<ion-nav [root]="rootPage" #content swipeBackEnabled="false"></ion-nav>